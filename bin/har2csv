#!/usr/bin/env ruby
#--
# Copyright 2016 by Fernando Ike <fike@midstorm.org>.
# All rights reserved.
# This script is under MIT License
#
# har2csv exports har headers and values to csv.
#++

$LOAD_PATH.unshift(File.expand_path("../lib", File.dirname(__FILE__)))

require 'har2csv'

if ARGV[0].nil?
  puts "Please, add a har file path!"
  exit 1
end

harfile = File.read(ARGV[0])

har = Har2csv.new

parser = har.parser(harfile)

response_headers = har.response_headers(parser)

response_values = har.response_values(parser)

har.export(response_headers,response_values)
